<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>表单验证</title>
<style type="text/css">
    .color{
        color:green;
    }
    .color2{
        color:red;
    }
</style>
</head>
<body>
        <form action="check.php" method="post" name="myform" id="myform">
                <p>
                    <label >用户名</label>
                    <input type="text" name="username" id="username" ><span>*</span></p>
                <p>
                    <label >密码</label>
                    <input type="password" name="pwd" id="pwd" ><span>*</span></p>
                </p>
                <p>
                     <label >确认密码</label>
                    <input type="password" name="repwd" id="repwd" ><span>*</span>
                </p>
                <p>
                    <label >性别</label>
                    <input type="radio" name="sex" value="nan">男
                    <input type="radio" name="sex" value="nv">女
                        
                </p>
                <p>
                   <label >手机号</label>
                    <input type="text" name="tel" id="tel" ><span>*</span>
                </p> 
                <p >
                    <label >邮箱</label>
                    <input type="text" name="email" id="email" ><span>*</span>
                </p>  
                <p >
                    <label >城市</label>
                    <select name="city" id="city">
                        <option value="0">--请选择--</option>
                        <option value="bj">北京</option>
                        <option value="hz">杭州</option>
                        <option value="cd">成都</option>
                    </select><span>*</span>
                </p> 
             <input type="submit" value="注册">
        </form>
</body>
	  <script>
          var username=document.getElementById("username");
          var pwd=document.getElementById("pwd");
          var repwd=document.getElementById("repwd");
          var tel=document.getElementById("tel");
          var email=document.getElementById("email");
          document.getElementById("myform").onsubmit=function(){
                if(username.value==""){
                    username.nextSibling.innerHTML="用户名不能为空"
                    username.nextSibling.className="color2"
                }
                if(pwd.value==""){
                    pwd.nextSibling.innerHTML="密码不能为空"
                    pwd.nextSibling.className="color2"
                }
                if(repwd.value==""){
                    repwd.nextSibling.innerHTML="密码不能为空"
                   repwd.nextSibling.className="color2"
                }
                if(tel.value==""){
                    tel.nextSibling.innerHTML="手机号不能为空"
                    tel.nextSibling.className="color2"
                }
                if(email.value==""){
                    email.nextSibling.innerHTML="邮箱不能为空"
                    email.nextSibling.className="color2"
                }
                if(city.value=="0"){
                    city.nextSibling.innerHTML="请选择城市"
                    city.nextSibling.className="color2"
                }
                if(username.value=="" || pwd.value=="" || repwd.value=="" || tel.value=="" || email.value=="" || city.value=="0"){
                return false
                }
                if(f1==0||f2==0||f3==0||f4==0||f5==0){
                    return false
                }
         }
         //验证用户名格式
         var f1=0;
         document.getElementById("username").onblur=function(){
                var reg=/^[a-zA-Z_0-9]{6,}$/;
                var us=document.getElementById("username").value;
                if(reg.test(us)){
                    this.nextSibling.innerHTML="用户名格式正确"
                    this.nextSibling.className="color"
                    f1=1;   
                }else if(us==""){
                    this.nextSibling.innerHTML="用户名不能为空"
                    this.nextSibling.className="color2"
                    f1=0;
                }else if(!(reg.test(us))){
                    this.nextSibling.innerHTML="用户名格式不正确"
                    this.nextSibling.className="color2"
                    f1=0;
                }
         }
       //验证密码格式
       var f2=0;
       document.getElementById("pwd").onblur=function(){
                var reg=/^[a-zA-Z_0-9]{6,}$/;
                var pd=document.getElementById("pwd").value;
                if(reg.test(pd)){
                    this.nextSibling.innerHTML="密码格式正确"
                    this.nextSibling.className="color"  
                    f2=1;
                }else if(pd==""){
                    this.nextSibling.innerHTML="密码不能为空"
                    this.nextSibling.className="color2"
                    f2=0;
                }else if(!(reg.test(pd))){
                    this.nextSibling.innerHTML="密码格式不正确"
                    this.nextSibling.className="color2"
                    f2=0;
                }
         }
         //确认密码
         var f3=0;
         document.getElementById("repwd").onblur=function(){
                 var pd=document.getElementById("pwd").value;
                var repd=document.getElementById("repwd").value;
                if(repd==""){
                    this.nextSibling.innerHTML="密码不能为空"
                    this.nextSibling.className="color2"
                    f3=0;
                }else if(pd==repd){
                    this.nextSibling.innerHTML="密码一致"
                    this.nextSibling.className="color"  
                    f3=1; 
                }else if(!(pd==repd)){
                    this.nextSibling.innerHTML="密码不一致"
                    this.nextSibling.className="color2"
                    f3=0; 
                }
         } 
         //手机号格式验证
         var f4=0;
         document.getElementById("tel").onblur=function(){
                var reg=/^(13|14|15|16|17|18)[0-9]{9}$/;
                var tl=document.getElementById("tel").value;
                if(reg.test(tl)){
                    this.nextSibling.innerHTML="手机号码格式正确"
                    this.nextSibling.className="color"   
                    f4=1;
                }else if(tl==""){
                    this.nextSibling.innerHTML="手机号码不能为空"
                    this.nextSibling.className="color2"
                    f4=0;
                }else if(!(reg.test(tl))){
                    this.nextSibling.innerHTML="手机号码不正确"
                    this.nextSibling.className="color2"
                    f4=0;
                }
         }
        //邮箱格式验证
        var f5=0;
        document.getElementById("email").onblur=function(){
                var reg=/^\w+@\w+\.\w{2,3}$/;
                var em=document.getElementById("email").value;
                if(reg.test(em)){
                    this.nextSibling.innerHTML="邮箱格式正确"
                    this.nextSibling.className="color"  
                    f5=1; 
                }else if(em==""){
                    this.nextSibling.innerHTML="邮箱格式不能为空"
                    this.nextSibling.className="color2"
                    f5=0;
                    }else if(!(reg.test(em))){
                    this.nextSibling.innerHTML="邮箱格式不正确"
                    this.nextSibling.className="color2"
                    f5=0;
                }
         }

	  </script>
</html>
